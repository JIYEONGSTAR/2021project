{"ast":null,"code":"import { applyMiddleware, createStore, compose } from \"redux\";\nimport _data from \"./book.json\";\nimport _notice from \"./notice.json\";\nimport axios from \"./axios/axios\";\nimport thunk from \"redux-thunk\";\n\nfunction reducer(state, action) {\n  if (state === undefined) {\n    let mockData = _data.concat();\n\n    let notice = _notice.concat();\n\n    return {\n      selected_id: 1,\n      selected_subject: \"\",\n      bookListBySubject: [mockData],\n      myBookList: [],\n      bookDeatil: [],\n      data: mockData,\n      noticeList: notice\n    };\n  }\n\n  let newData = [...state.data];\n  let newMyBookList = [...state.myBookList];\n  let newBookListBySubject = [...state.bookListBySubject];\n  let newState;\n  let newNoticeList = [...state.noticeList];\n  let newSubject = {\n    selected_subject: action.subject\n  };\n  let newID = {\n    selected_id: action.id\n  }; //현재 선택한 값\n\n  let newBookDetail;\n  let targetData = newData.find(currentData => {\n    return currentData.bookId === newID.selected_id;\n  });\n  let targetIndex = newMyBookList.findIndex(currentData => currentData.bookId === newID.selected_id);\n  let existData = newMyBookList.find(currentData => {\n    return currentData.bookId === newID.selected_id;\n  });\n  let targetDataBySubject = newData.filter(currentData => {\n    return currentData.subjects === newSubject.selected_subject;\n  });\n  let targetDataBySearch = newData.filter(currentData => {\n    return currentData.title.includes(action.search);\n  });\n\n  switch (action.type) {\n    case \"like\":\n      targetData.likeNum === 0 ? targetData.likeNum += 1 : targetData.likeNum -= 1;\n      break;\n\n    case \"addMyList\":\n      if (targetData.stock <= 0) {\n        alert(\"더이상 빌릴 수 없습니다\");\n      } else if (existData === undefined) {\n        alert(\"대여가 완료되었습니다.\");\n        newMyBookList.push(targetData);\n        targetData.stock -= 1;\n      } else {\n        alert(\"이미 담겨 잇습니다.\");\n      }\n\n      break;\n\n    case \"removeMyList\":\n      newMyBookList.splice(targetIndex, 1);\n      targetData.stock += 1;\n      break;\n\n    case \"handleSubject\":\n      newBookListBySubject.pop();\n      newBookListBySubject.push(targetDataBySubject);\n      break;\n\n    case \"handleSearch\":\n      newBookListBySubject.pop();\n      newBookListBySubject.push(targetDataBySearch);\n      break;\n\n    case \"handleAll\":\n      newBookListBySubject.pop();\n      newBookListBySubject.push(newData);\n      break;\n\n    case \"bookDetail\":\n      newBookDetail = [];\n      newBookDetail.push(targetData);\n      break;\n\n    default:\n      break;\n  }\n\n  newState = { ...state,\n    data: newData,\n    myBookList: newMyBookList,\n    bookListBySubject: newBookListBySubject,\n    bookDeatil: newBookDetail,\n    noticeList: newNoticeList\n  };\n  return newState;\n}\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport default createStore(reducer, composeEnhancer(applyMiddleware(thunk)));","map":{"version":3,"sources":["C:/Users/user/Desktop/project/SHARE_BILLAGE/front_end/src/store.js"],"names":["applyMiddleware","createStore","compose","_data","_notice","axios","thunk","reducer","state","action","undefined","mockData","concat","notice","selected_id","selected_subject","bookListBySubject","myBookList","bookDeatil","data","noticeList","newData","newMyBookList","newBookListBySubject","newState","newNoticeList","newSubject","subject","newID","id","newBookDetail","targetData","find","currentData","bookId","targetIndex","findIndex","existData","targetDataBySubject","filter","subjects","targetDataBySearch","title","includes","search","type","likeNum","stock","alert","push","splice","pop","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__"],"mappings":"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","sourcesContent":["import { applyMiddleware, createStore, compose } from \"redux\";\r\nimport _data from \"./book.json\";\r\nimport _notice from \"./notice.json\";\r\nimport axios from \"./axios/axios\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nfunction reducer(state, action) {\r\n  if (state === undefined) {\r\n    let mockData = _data.concat();\r\n    let notice = _notice.concat();\r\n    return {\r\n      selected_id: 1,\r\n      selected_subject: \"\",\r\n      bookListBySubject: [mockData],\r\n      myBookList: [],\r\n      bookDeatil: [],\r\n      data: mockData,\r\n      noticeList: notice,\r\n    };\r\n  }\r\n  let newData = [...state.data];\r\n  let newMyBookList = [...state.myBookList];\r\n  let newBookListBySubject = [...state.bookListBySubject];\r\n  let newState;\r\n  let newNoticeList = [...state.noticeList];\r\n  let newSubject = { selected_subject: action.subject };\r\n  let newID = { selected_id: action.id }; //현재 선택한 값\r\n  let newBookDetail;\r\n  let targetData = newData.find((currentData) => {\r\n    return currentData.bookId === newID.selected_id;\r\n  });\r\n  let targetIndex = newMyBookList.findIndex(\r\n    (currentData) => currentData.bookId === newID.selected_id\r\n  );\r\n  let existData = newMyBookList.find((currentData) => {\r\n    return currentData.bookId === newID.selected_id;\r\n  });\r\n  let targetDataBySubject = newData.filter((currentData) => {\r\n    return currentData.subjects === newSubject.selected_subject;\r\n  });\r\n  let targetDataBySearch = newData.filter((currentData) => {\r\n    return currentData.title.includes(action.search);\r\n  });\r\n  switch (action.type) {\r\n    case \"like\":\r\n      targetData.likeNum === 0\r\n        ? (targetData.likeNum += 1)\r\n        : (targetData.likeNum -= 1);\r\n      break;\r\n    case \"addMyList\":\r\n      if (targetData.stock <= 0) {\r\n        alert(\"더이상 빌릴 수 없습니다\");\r\n      } else if (existData === undefined) {\r\n        alert(\"대여가 완료되었습니다.\");\r\n        newMyBookList.push(targetData);\r\n        targetData.stock -= 1;\r\n      } else {\r\n        alert(\"이미 담겨 잇습니다.\");\r\n      }\r\n      break;\r\n    case \"removeMyList\":\r\n      newMyBookList.splice(targetIndex, 1);\r\n      targetData.stock += 1;\r\n      break;\r\n    case \"handleSubject\":\r\n      newBookListBySubject.pop();\r\n      newBookListBySubject.push(targetDataBySubject);\r\n      break;\r\n    case \"handleSearch\":\r\n      newBookListBySubject.pop();\r\n      newBookListBySubject.push(targetDataBySearch);\r\n      break;\r\n    case \"handleAll\":\r\n      newBookListBySubject.pop();\r\n      newBookListBySubject.push(newData);\r\n      break;\r\n    case \"bookDetail\":\r\n      newBookDetail = [];\r\n      newBookDetail.push(targetData);\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n  newState = {\r\n    ...state,\r\n    data: newData,\r\n    myBookList: newMyBookList,\r\n    bookListBySubject: newBookListBySubject,\r\n    bookDeatil: newBookDetail,\r\n    noticeList: newNoticeList,\r\n  };\r\n  return newState;\r\n}\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default createStore(reducer, composeEnhancer(applyMiddleware(thunk)));\r\n"]},"metadata":{},"sourceType":"module"}